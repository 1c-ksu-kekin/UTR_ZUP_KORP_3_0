
&НаКлиенте
Процедура ЮТР_ПриОткрытии(Отказ)
	УстановитьВыполнениеПослеОбработчиковСобытия("ЮТР_ПриОткрытии2", Неопределено);	
	ЭтаФорма.Элементы.ЮТР_ОбщаяКомандаЮТР_РазделитьВедомостьПоПризнакуРезидент.Видимость = ИспользоватьРазделениеПоПризнакуРезидент(ЭтаФорма.Объект.ЗарплатныйПроект);
КонецПроцедуры

&НаКлиенте
Процедура ЮТР_ПриОткрытии2(Элемент, ДополнительныйПараметр)
	Если ЭтаФорма.Элементы.ВыплатаЗарплатыСтраницы.ТекущаяСтраница <> ЭтаФорма.Элементы.ВыплатаЗарплатыСтраницыЧастично Тогда
		Ведомость = ЭтаФорма.Объект.Ссылка;
		Модуль = ОбщегоНазначенияКлиентСервер.ОбщийМодуль("УчетДепонированнойЗарплатыВызовСервера");
		НевыплатыПоВедомости = Модуль.ДепонированияПоВедомости(Ведомость);
		
		Если НевыплатыПоВедомости.Количество() <> 0 Тогда
			ЭтаФорма.Элементы.ВыплатаЗарплатыСтраницы.ТекущаяСтраница = ЭтаФорма.Элементы.ЮТР_ВыплатаЗарплатыСтраницыЧастично
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

&НаСервере
Функция ИспользоватьРазделениеПоПризнакуРезидент(ЗарплатныйПроект)
	Возврат ЗарплатныйПроект.ЮТР_ИспользоватьРазделениеПоПризнакуРезидент;	
КонецФункции // НеобходимоРазделениеПоПризнакуРезидент()


&НаКлиенте
Процедура ЮТР_ЗарплатныйПроектПриИзменении(Элемент)
	ЭтаФорма.Элементы.ЮТР_ОбщаяКомандаЮТР_РазделитьВедомостьПоПризнакуРезидент.Видимость = ИспользоватьРазделениеПоПризнакуРезидент(ЭтаФорма.Объект.ЗарплатныйПроект);
КонецПроцедуры
