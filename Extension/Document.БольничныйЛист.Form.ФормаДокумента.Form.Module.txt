
&НаКлиенте
Процедура ЮТР_ДатаНачалаПриИзменении(Элемент)
	
	УстановитьВыполнениеПослеОбработчиковСобытия("ЮТР_ДатыПриИзмененииПосле", Неопределено);
	
КонецПроцедуры

&НаКлиенте
Процедура ЮТР_ДатаОкончанияПриИзменении(Элемент)
	
	УстановитьВыполнениеПослеОбработчиковСобытия("ЮТР_ДатыПриИзмененииПосле", Неопределено);
	
КонецПроцедуры

&НаКлиенте
Процедура ЮТР_ДатыПриИзмененииПосле(Элемент, ДополнительныйПараметр)
	
	ЮТР_УстановитьВидимостьПродолжаетБолеть(ЭтаФорма);
	
КонецПроцедуры

&НаКлиентеНаСервереБезКонтекста
Процедура ЮТР_УстановитьВидимостьПродолжаетБолеть(Форма)
	
	//10.06.2015. было решено добавить видимость вне зависимости от даты окончания
	//Форма.Элементы.ЮТР_ПродолжаетБолеть.Видимость = НЕ ЗначениеЗаполнено(Форма.Объект.ДатаОкончания);
	//Форма.Объект.ЮТР_ПродолжаетБолеть = НЕ ЗначениеЗаполнено(Форма.Объект.ДатаОкончания);
	
КонецПроцедуры	

&НаКлиенте
Процедура ЮТР_ПослеЗаписи(ПараметрыЗаписи)
	
	УстановитьВыполнениеПослеОбработчиковСобытия("ЮТР_ПослеЗаписиНаКлиентеПосле", Неопределено);
	
КонецПроцедуры
	
&НаКлиенте
Процедура ЮТР_ПослеЗаписиНаКлиентеПосле(ПараметрыЗаписи, ДополнительныйПараметр)	
		
	// ЮТР начало изменения 
	//{32 574}, 07.05.2015
	//Создание оповещения о выходе основного работника из отпуска
	Если НЕ Объект.ЮТР_ПродолжаетБолеть И ЗначениеЗаполнено(Объект.ДатаОкончания) Тогда
		ЮТР_ОповещениеПользователейКлиент.ВыполнитьОповещениеСпециалистаКСПриВыходеОсновногоРаботника(Объект.Ссылка, Объект.Сотрудник, "da8363aa-f4a2-11e4-8291-e8039ae3f3e0");
	КонецЕсли;
	//ЮТР окончание изменения
	
КонецПроцедуры	

&НаСервере
Процедура ЮТР_ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	УстановитьВыполнениеПослеОбработчиковСобытия("ЮТР_ПриСозданииНаСервереПосле", Неопределено);

КонецПроцедуры

&НаСервере
Процедура ЮТР_ПриСозданииНаСервереПосле(Отказ, СтандартнаяОбработка, ДополнительныйПараметр)
	
	Если НЕ Параметры.Ключ.Пустая() Тогда  // форма нового
		
		//ЮТР начало изменения
		//{32 573}, 08.04.2015
		//будем скрывать флаг ЮТР_ПродолжаетБолеть в случае, если дата окончания нетрудоспособности заполнена.
		//10.06.2015. было решено добавить видимость вне зависимости от даты окончания
		//ЭтаФорма.Элементы.ЮТР_ПродолжаетБолеть.Видимость = НЕ ЗначениеЗаполнено(Объект.ДатаОкончания);
		//ЮТР окончание изменения
		
	КонецЕсли;

Конецпроцедуры